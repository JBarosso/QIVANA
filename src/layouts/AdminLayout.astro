---
// ============================================
// ADMIN LAYOUT - Panel d'administration
// ============================================

import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  currentPage?: 'dashboard' | 'questions' | 'flags' | 'duplicates' | 'ratings' | 'analytics';
}

const { title, currentPage = 'dashboard' } = Astro.props;

const navItems = [
  { id: 'dashboard', label: 'Dashboard', icon: 'ğŸ“Š', href: '/admin' },
  { id: 'questions', label: 'Questions', icon: 'â“', href: '/admin/questions' },
  { id: 'flags', label: 'Signalements', icon: 'ğŸš©', href: '/admin/flags' },
  { id: 'duplicates', label: 'Doublons', icon: 'ğŸ“‹', href: '/admin/duplicates' },
  { id: 'ratings', label: 'Avis', icon: 'â­', href: '/admin/ratings' },
  { id: 'analytics', label: 'Analytics', icon: 'ğŸ“ˆ', href: '/admin/analytics' },
];
---

<BaseLayout title={`Admin - ${title}`} description="Panel d'administration Qivana">
  <div class="admin-layout">
    <aside class="admin-sidebar">
      <div class="admin-sidebar__header">
        <a href="/" class="admin-sidebar__logo">
          <span class="admin-sidebar__logo-icon">ğŸ®</span>
          <span class="admin-sidebar__logo-text">Qivana</span>
        </a>
        <span class="admin-sidebar__badge">Admin</span>
      </div>

      <nav class="admin-nav">
        {navItems.map((item) => (
          <a 
            href={item.href}
            class={`admin-nav__item ${currentPage === item.id ? 'admin-nav__item--active' : ''}`}
          >
            <span class="admin-nav__icon">{item.icon}</span>
            <span class="admin-nav__label">{item.label}</span>
          </a>
        ))}
      </nav>

      <div class="admin-sidebar__footer">
        <a href="/profile" class="admin-nav__item">
          <span class="admin-nav__icon">ğŸ‘¤</span>
          <span class="admin-nav__label">Mon profil</span>
        </a>
        <a href="/" class="admin-nav__item">
          <span class="admin-nav__icon">ğŸ </span>
          <span class="admin-nav__label">Retour au site</span>
        </a>
      </div>
    </aside>

    <main class="admin-main">
      <header class="admin-header">
        <h1 class="admin-header__title">{title}</h1>
      </header>

      <div class="admin-content">
        <slot />
      </div>
    </main>
  </div>
</BaseLayout>
